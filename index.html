<!DOCTYPE html>
<html>
<!-- other page elements -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  
  <div id="create">create video</div>
  <div id="video-container" style="display: none;">Video is playing...</div>
  
  <script src="https://us01ccistatic.zoom.us/us01cci/web-sdk/video-client.js"></script>
  <script src="coi-serviceworker.js"></script>

  <script>
    (() => {
      const createButton = document.getElementById('create');
      const videoContainer = document.getElementById('video-container');

      createButton.addEventListener('click', async () => {
        const entryId = "_PICaBPBR7O_a0oO2A7cPw"; /* Get from the code copied from
                                            your flow */
        const videoClient = new VideoClient({
          // Add any necessary configuration options here
        });
        
        await videoClient.init({
          entryId,
          language: 'ja-JP',
          name: 'LIXIL ショールーム東京', /* optional field, omit if not using, null value
                        not accepted */
        });
        
        // Hide the create button and show the video container
        createButton.style.display = 'none';
        videoContainer.style.display = 'block';
        
        videoClient.startVideo();
        
        videoClient.on('video-end', () => {
          console.log('video ended'); /* Add any actions to perform when the
                                        video ends, for example, print to
                                        console log */
          // Hide the video container and show the create button
          videoContainer.style.display = 'none';
          createButton.style.display = 'block';
        });
      });
    })();
  </script>
  <!-- other page elements -->
</html>
